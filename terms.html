<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PW Term Date Reference</title>
  <link rel="icon" type="image/png" href="witch-hat.png">
  <link rel="stylesheet" href="styles.css">
  <style>
    /* page-local polish for this view */
    .controls { margin: 8px 0 10px; }
    .input, .btn, .select {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 10px 12px;
    }
    .btn { cursor: pointer; }

    /* centered hero summary */
    .hero {
      margin: 6px auto 12px;
      max-width: 760px;
      text-align: center;
      padding: 16px 18px;
      border-radius: 18px;
      border: 1px solid var(--border);
      background:
        radial-gradient(1200px 1200px at 50% -200px, rgba(58,99,255,.10), transparent 55%),
        var(--panel);
      box-shadow: 0 2px 12px rgba(10,18,38,.06);
    }
    .hero h2 {
      margin: 4px 0 4px;
      font-size: 1.35rem;
    }
    .hero p { margin: 0; color: var(--muted); }

    /* table */
    .table-wrap { overflow:auto; border:1px solid var(--border); border-radius:12px; }
    .term-table { width:100%; border-collapse:separate; border-spacing:0; }
    .term-table thead th { position:sticky; top:0; z-index:1; background: var(--bg); }
    .term-table tbody tr:nth-child(odd) td { background: rgba(10,18,38,.02); }
    tr.is-current td { background: rgba(58,99,255,.10); }

    /* year group headers that stick beneath table header */
    tr.group-row td {
      position: sticky; top: 44px;
      background: var(--panel); color: var(--muted);
      font-weight: 600; border-top: 1px solid var(--border);
    }

    .mono { font-feature-settings:"tnum" 1; font-variant-numeric: tabular-nums; }

    /* subtle star badge for current row */
    .term-star {
      display:inline-flex; align-items:center; justify-content:center;
      width: 22px; height: 22px; margin-left: 6px;
      border-radius: 999px;
      background: rgba(58,99,255,.18);
      font-size: .9rem; line-height: 1;
    }

    @keyframes pulse { 0%{box-shadow:0 0 0 0 rgba(58,99,255,.35);} 100%{box-shadow:0 0 0 12px rgba(58,99,255,0);} }
    tr.pulse td { animation:pulse .9s ease-out 1; }
  </style>
</head>
<body>
  <div class="container">
    <header class="header" style="margin-bottom:8px;">
      <div>
        <h1 class="title">Term Date Reference</h1>
        <p class="subtitle">Quick reference for Potterworld term start and end dates, sourced from the official PW Timeline.</p>
      </div>
      <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ™ Dark Mode</button>
    </header>

    <!-- Centered summary -->
    <section id="currentCard" class="hero" style="display:none;"></section>

    <!-- Controls -->
    <section class="controls">
      <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center">
        <div class="input" style="display:flex; align-items:center; gap:8px;">
          <span aria-hidden="true">ðŸ”Ž</span>
          <input id="searchInput" type="text" placeholder="Search by term, date, month, or yearâ€¦" style="border:none; outline:none; background:transparent; width:260px;">
        </div>

        <select id="monthSelect" class="select">
          <option value="any">Any month</option>
          <option value="january">January</option><option value="february">February</option>
          <option value="march">March</option><option value="april">April</option>
          <option value="may">May</option><option value="june">June</option>
          <option value="july">July</option><option value="august">August</option>
          <option value="september">September</option><option value="october">October</option>
          <option value="november">November</option><option value="december">December</option>
        </select>

        <select id="lastSelect" class="select">
          <option value="20" selected>Show last 20</option>
          <option value="50">Show last 50</option>
          <option value="all">Show all</option>
        </select>

        <div style="flex:1"></div>
        <button id="jumpBtn" class="btn" type="button">Jump to Current</button>
        <button id="resetBtn" class="btn" type="button">Reset</button>
      </div>
    </section>

    <!-- Table -->
    <div class="content">
      <div class="table-wrap">
        <table class="term-table">
          <thead>
            <tr>
              <th style="text-align:left; padding:12px;">Term</th>
              <th style="text-align:left; padding:12px;">Start</th>
              <th style="text-align:left; padding:12px;">End</th>
              <th style="text-align:left; padding:12px;">Year</th>
            </tr>
          </thead>
          <tbody id="termBody"></tbody>
        </table>
      </div>
    </div>

    <footer class="footer">
      <p>Unofficial Potterworld utilities â€¢ Made by âœ¨ mel for the community</p>
    </footer>
  </div>

  <script src="intro.js"></script>
  <!-- shared data must come BEFORE page logic -->
  <script src="terms-data.js"></script>
  <script src="terms.js"></script>
</body>
</html>
